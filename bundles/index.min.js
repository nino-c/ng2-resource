System.registerDynamic("ng2-resource/index",["angular2/core","angular2/http"],!0,function($__require,exports,module){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("angular2/core"),http_1=$__require("angular2/http"),RestProvider=function(){function RestProvider(_http){if(this._http=_http,void 0==typeof this._http)throw new Error("super(_http) is not called on class that is extended RestProvider")}return RestProvider.prototype.buildParams=function(data){void 0===data&&(data={});var _defaultParams=Object.assign({},this.params);for(var _prop in _defaultParams)delete _defaultParams[_prop],data[_defaultParams[_prop.substr(1)]]&&(_defaultParams[_prop.substr(1)]=data[_defaultParams[_prop.substr(1)]],delete data[_prop.substr(1)]);return Object.assign({},_defaultParams,data)},RestProvider.prototype.buildUrl=function(data){var _url=this.url,_params=this.buildParams(data),splitUrl=_url.split("/"),_defaultParams=Object.assign({},this.params);splitUrl.forEach(function(urlPart,index){if(urlPart.charAt&&":"===urlPart.charAt(0)){var _paramName=urlPart.substr(1),_propName=_defaultParams.hasOwnProperty(urlPart)?_defaultParams[urlPart]:void 0;void 0==_propName?_params.hasOwnProperty(_paramName)?(splitUrl[index]=_params[_paramName],delete _params[_paramName]):splitUrl.splice(index,1):_propName&&_propName.charAt&&"@"==_propName.charAt(0)?(_propName=_propName.substr(1),_params.hasOwnProperty(_propName)?(splitUrl[index]=_params[_propName],delete _params[_propName]):_params.hasOwnProperty(_paramName)?(splitUrl[index]=_params[_paramName],delete _params[_paramName]):delete splitUrl.splice(index,1)):splitUrl.splice(index,1)}}),splitUrl=splitUrl.filter(function(o){return"@"!=o[0]});var substituedUrl="";for(var _prop in _params)substituedUrl+=_prop+"="+_params[_prop]+"&";return splitUrl.join("/")+(substituedUrl.length?"?"+substituedUrl.substr(0,substituedUrl.length-1):"")},RestProvider.prototype.createRequest=function(type,data){var _request,_url=this.buildUrl(data),stringParam="",_jsonBuild={};switch(_url.split("?")[1]&&_url.split("?")[1].length&&(_url.split("?")[1].split("&").forEach(function(_paramPart){_jsonBuild[_paramPart.split("=")[0]]=_paramPart.split("=")[1]}),stringParam=JSON.stringify(_jsonBuild)),type){case"post":_request=this._http.post(_url.split("?")[0],stringParam);break;case"patch":_request=this._http.patch(_url.split("?")[0],stringParam);break;case"put":_request=this._http.put(_url.split("?")[0],stringParam);break;case"delete":_request=this._http["delete"](_url);break;case"head":_request=this._http.head(_url);break;default:_request=this._http.get(_url)}return this._request=_request.map(function(response){return response.json()}),this._request},RestProvider.prototype.sendResponse=function(){return{$promise:this._request.toPromise()["catch"](function(e){return console.error(e)}),$observables:this._request}},RestProvider.prototype.query=function(data){this.createRequest("get",data);return this.sendResponse()},RestProvider.prototype.save=function(data){this.createRequest("post",data);return this.sendResponse()},RestProvider.prototype.update=function(data){this.createRequest("put",data);return this.sendResponse()},RestProvider.prototype["delete"]=function(data){this.createRequest("delete",data);return this.sendResponse()},RestProvider=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[http_1.Http])],RestProvider)}();return exports.RestProvider=RestProvider,module.exports});
//# sourceMappingURL=index.min.js.map